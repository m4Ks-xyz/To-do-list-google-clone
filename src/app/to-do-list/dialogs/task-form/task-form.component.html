@let dialogMode = initialDialogData.mode;
<h2 mat-dialog-title>
	{{ dialogMode === "add" ? "Utwórz nowe zadanie" : "Edytuj zadanie" }}
</h2>
<mat-dialog-content class="mat-typography">
	<form class="form" [formGroup]="form" (keydown.enter)="onSubmit()">
		<mat-form-field class="form__input">
			<mat-label> Tytuł </mat-label>
			<input formControlName="title" matInput placeholder="Tytuł zadania" />
			@if (form.controls.title.hasError("required")) {
				<mat-error>Tytuł jest <strong>wymagany</strong></mat-error>
			} @else if (form.controls.title.hasError("maxlength")) {
				<mat-error><strong>Maksymalna</strong> ilość znaków to 40</mat-error>
			} @else if (form.controls.title.hasError("minlength")) {
				<mat-error><strong>Minimalna</strong> ilość znaków to 3</mat-error>
			}
		</mat-form-field>
		<mat-form-field class="form__input">
			<mat-label> Szczegóły</mat-label>
			<input
				formControlName="description"
				matInput
				placeholder="Opis zadania"
			/>
			@if (form.controls.description.hasError("maxlength")) {
				<mat-error><strong>Maksymalna</strong> długość znaków to 100</mat-error>
			} @else if (form.controls.title.hasError("minlength")) {
				<mat-error><strong>Minimalna</strong> ilość znaków to 3</mat-error>
			}
		</mat-form-field>
		<mat-form-field class="form__input">
			<mat-label>Data</mat-label>
			<input formControlName="date" matInput [matDatepicker]="picker" />
			<mat-hint>DD/MM/RRRR</mat-hint>
			<mat-datepicker-toggle
				matIconSuffix
				[for]="picker"
				a
			></mat-datepicker-toggle>
			<mat-datepicker #picker></mat-datepicker>
		</mat-form-field>

		<mat-form-field class="form__input">
			<mat-label>Godzina</mat-label>
			<input formControlName="time" matInput [matTimepicker]="timepicker" />
			<mat-hint>GG:MM</mat-hint>
			<mat-timepicker #timepicker />
			<mat-timepicker-toggle [for]="timepicker" matSuffix />
		</mat-form-field>
	</form>
</mat-dialog-content>
<mat-dialog-actions align="end">
	<button (click)="onSubmit()" class="form__submit" mat-button cdkFocusInitial>
		Zapisz
	</button>
	<button class="form__submit" mat-button mat-dialog-close>Anuluj</button>
</mat-dialog-actions>
